<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>T(&quot;SynthDef&quot;)</title><link rel="stylesheet" href="/timbre.js/misc/css/codemirror.css" type="text/css"><link rel="stylesheet" href="/timbre.js/misc/css/common.css" type="text/css"><link rel="shortcut icon" href="/timbre.js/favicon.ico"><script src="/timbre.js/timbre.dev.js">   </script></head><body><div class="container"><div class="row"><div id="sidebar"><h1>timbre.js</h1><div id="index"><div id="list"><h2>Download</h2><ul><li><a href="/timbre.js/timbre.js">timbre.js</a></li><li><a href="/timbre.js/timbre.dev.js">timbre.dev.js</a></li></ul><h2>Documents</h2><ul><li><a href="./">Introduction</a></li><li><a href="./GettingStarted.html">Getting Started</a></li><li><a href="./PragmaSynth.html">Pragmatic Synth</a></li><li><a href="./RecordingMode.html">Recording Mode</a></li><li><a href="./CustomObject.html">Custom Object</a></li><li><a href="./ForDevelopers.html">For Developers</a></li><li><a href="./timevalue.html">timevalue</a></li></ul><h2>Examples</h2><ul><li><a href="./beatbox.html">BeatBox</a></li><li><a href="./chord.html">Chords Work</a></li><li><a href="./satie.html">Gymnopedie</a></li><li><a href="./khoomii.html">Khoomii</a></li><li><a href="./reich.html">Reich</a></li></ul><h2>References</h2><ul><li><a href="./BaseObject.html">Base Object</a></li><li><a href="./Number.html">Number</a></li><li><a href="./Array.html">Array</a></li><li><a href="./Function.html">Function</a></li><li><a href="./Boolean.html">Boolean</a></li><li><a href="./Object.html">Object</a></li><li><a href="./SynthDef.html">SynthDef</a></li><li><a href="./soundbuffer.html">SoundBuffer</a></li><li><a href="./mul.html">*</a></li><li><a href="./add.html">+</a></li><li><a href="./audio.html">audio</a></li><li><a href="./biquad.html">biquad</a></li><li><a href="./buffer.html">buffer</a></li><li><a href="./clip.html">clip</a></li><li><a href="./comp.html">compressor</a></li><li><a href="./cosc.html">cosc</a></li><li><a href="./delay.html">delay</a></li><li><a href="./dist.html">distortion</a></li><li><a href="./env.html">env</a></li><li><a href="./fft.html">fft</a></li><li><a href="./fnoise.html">fnoise</a></li><li><a href="./gate.html">gate</a></li><li><a href="./ifft.html">ifft</a></li><li><a href="./interval.html">interval</a></li><li><a href="./keyboard.html">keyboard</a></li><li><a href="./map.html">map</a></li><li><a href="./midicps.html">midicps</a></li><li><a href="./midiratio.html">midiratio</a></li><li><a href="./mml.html">mml</a></li><li><a href="./mouse.html">mouse</a></li><li><a href="./ndict.html">ndict</a></li><li><a href="./noise.html">noise</a></li><li><a href="./osc.html">osc</a></li><li><a href="./OscGen.html">OscGen</a></li><li><a href="./panner.html">pan</a></li><li><a href="./param.html">param</a></li><li><a href="./phaseshift.html">phaseshift</a></li><li><a href="./pink.html">pink</a></li><li><a href="./pluck.html">pluck</a></li><li><a href="./PluckGen.html">PluckGen</a></li><li><a href="./rec.html">record</a></li><li><a href="./schedule.html">schedule</a></li><li><a href="./scope.html">scope</a></li><li><a href="./selector.html">selector</a></li><li><a href="./spectrum.html">spectrum</a></li><li><a href="./tape.html">tape</a></li><li><a href="./timeout.html">timeout</a></li><li><a href="./zmap.html">zmap</a></li></ul></div></div><hr><div id="footer"><a href="/timbre.js/">English</a><a href="/timbre.js/ja/">日本語</a></div></div><div id="main"><h1>T(&quot;SynthDef&quot;)</h1>
<p><span class="label ar">AR</span> Synth Definition

</p>
<h2>Description</h2>
<p>音源インターフェース。音源定義を <code>noteOn</code>, <code>noteOff</code> で管理します。

</p>
<div class="codemirror" lang="timbre" source="var synth = T(&quot;SynthDef&quot;).play();

synth.def = function(opts) {
  var osc1, osc2, env;
  osc1 = T(&quot;saw&quot;, {freq:opts.freq         , mul:0.25});
  osc2 = T(&quot;saw&quot;, {freq:opts.freq * 1.6818, mul:0.20});
  env  = T(&quot;linen&quot;, {s:450, r:250, lv:0.5}, osc1, osc2);
  return env.on(&quot;ended&quot;, opts.doneAction).bang();
};

T(&quot;interval&quot;, {interval:500}, function(count) {
  var noteNum  = 69 + [0, 2, 4, 5, 7, 9, 11, 12][count % 8];
  var velocity = 64 + (count % 64);
  synth.noteOn(noteNum, velocity);
}).start();"></div>
<h2>Properties</h2>
<ul>
<li><code>def</code> <em>(Function)</em><ul>
<li>音源定義関数 (SynthDefFunction)</li>
</ul>
</li>
<li><code>poly</code> <em>(Number)</em><ul>
<li>同時発音数 (1から 64まで、デフォルトは 4)</li>
</ul>
</li>
</ul>
<h2>SynthDefFunction</h2>
<p>音源定義関数は <code>noteOn()</code> の時に呼ばれる関数です。引数は以下が定義された辞書オブジェクトです。<br>引数を元に T オブジェクト を生成して返します。

</p>
<ul>
<li><code>opts.noteNum</code><ul>
<li>noteOn された MIDIノート番号 (0-127)</li>
</ul>
</li>
<li><code>opts.freq</code><ul>
<li>noteOn された 音の周波数</li>
</ul>
</li>
<li><code>opts.velocity</code><ul>
<li>noteOn された velocity (0-127)</li>
</ul>
</li>
<li><code>opts.doneAction</code><ul>
<li>開放関数です</li>
</ul>
</li>
<li>ohters<ul>
<li>noteOn の第3引数で指定した値</li>
</ul>
</li>
</ul>
<h2>Methods</h2>
<ul>
<li><code>noteOn(noteNum, velocity, opts)</code></li>
<li><code>noteOnWithFreq(freq, velocity, opts)</code>  <ul>
<li>SynthDefFunction を呼び出して戻り値の T オブジェクトの管理を開始する</li>
</ul>
</li>
<li><code>noteOff(noteNum)</code></li>
<li><code>noteOffWithFreq(freq)</code><ul>
<li>noteOn で管理されている T オブジェクトの <code>release()</code> を呼び出す</li>
</ul>
</li>
<li><code>allNoteOff()</code><ul>
<li>すべての音にノートオフする</li>
</ul>
</li>
<li><code>allSoundOff()</code><ul>
<li>すべての音を停止する</li>
</ul>
</li>
</ul>
<h2>See Also</h2>
<ul>
<li><a href="./OscGen.html"><code>T(&quot;OscGen&quot;)</code></a></li>
<li><a href="./PluckGen.html"><code>T(&quot;PluckGen&quot;)</code></a></li>
</ul>
<h2>Source</h2>
<p><a href="https://github.com/mohayonao/timbre.js/blob/master/src/objects/synthdef.js">https://github.com/mohayonao/timbre.js/blob/master/src/objects/synthdef.js</a>
</p>
</div></div></div><script src="/timbre.js/misc/js/jquery.js"></script><script src="/timbre.js/misc/js/codemirror.js"></script><script src="/timbre.js/misc/js/javascript.js"></script><script src="/timbre.js/misc/js/subcollider.js"></script><script src="/timbre.js/misc/js/requestAnimationFrame.js"></script><script src="/timbre.js/misc/js/common.js"></script><script>sc.use("prototype");</script></body></html>