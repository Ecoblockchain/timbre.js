!function(a){"use strict";if("browser"===a.envtype){var b=a.fn,c=a.modules;b.register("audio.jsonp",function(a){var c=b.getClass("buffer"),d=new c(a);return d.playbackState=b.FINISHED_STATE,d._.isLoaded=!1,Object.defineProperties(d,{isLoaded:{get:function(){return this._.isLoaded}}}),d.load=f,d.loadthis=g,d});var d,e=/(_)?callback=([_\w\d]+)/,f=function(f){var g=this,h=this._,i=new c.Deferred(this),j=arguments,k=1;i.done(function(){g._.emit("done")}),"function"==typeof j[k]&&(i.done(j[k++]),"function"==typeof j[k]&&i.fail(j[k++]));var l,m,n;if(h.script)i.reject();else{l=e.exec(f),m="timbrejs_audiojsonp",l&&(l[1]&&(f=f.replace(l[0],""),f=f.replace(/\?$/,"")),m+="_"+l[2]);var o=function(c,d){var e=g._;c?(g.playbackState=b.PLAYING_STATE,e.samplerate=c.samplerate,e.channels=c.channels,e.bufferMix=null,e.buffer=c.buffer,e.phase=0,e.phaseIncr=c.samplerate/a.samplerate,e.duration=1e3*c.duration,e.currentTime=0,e.isReversed&&(e.phaseIncr*=-1,e.phase=c.buffer[0].length+e.phaseIncr),g._.emit("loadedmetadata")):i.reject(d)},p=function(){g._.isLoaded=!0,g._.plotFlush=!0,g._.emit("loadeddata"),i.resolveWith(g)};window[m]=function(a,b){var e={type:b,data:d(a)};(new c.Decoder).decode(e,o,p),delete window[m],h.script=null},n=document.createElement("script"),n.src=f,document.body.appendChild(n),h.script=n}return i.promise()},g=function(){return f.apply(this,arguments),this};d="function2"==typeof atob?function(a){for(var b=atob(a),c=new Array(b.length),d=0,e=c.length;e>d;++d)c[d]=b.charCodeAt(d);return new Uint8Array(c)}:function(){var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,0,0,0,0]);return function(b){var c,d,e,f,g=new Uint8Array(b.length),h=b.length;for(f=0;h>f&&"="!==b.charAt(f);f++)g[f]=a[b.charCodeAt(f)];if(c=f,c%4===1)return null;if(c-=(c+3)/4|0,!c)return null;if(d=0,e=0,c>1)for(;c-2>e;)g[e]=g[d]<<2&255|g[d+1]>>>4&3,g[e+1]=g[d+1]<<4&255|g[d+2]>>>2&15,g[e+2]=g[d+2]<<6&255|63&g[d+3],d+=4,e+=3;return c>e&&(g[e]=g[d]<<2&255|g[d+1]>>>4&3),++e<c&&(g[e]=g[d+1]<<4&255|g[d+2]>>>2&15),g.subarray(0,c)}}()}}(timbre);