!function(a){"use strict";function b(b){a.Object.call(this,2,b)}var c=a.fn;c.extend(b,a.Object);var d=b.prototype;Object.defineProperties(d,{gen:{set:function(a){"object"==typeof a&&a.process&&(this._.gen=a)},get:function(){return this._.gen}}}),d.process=function(a){var b=this._;return this.tickID!==a&&(this.tickID=a,b.gen&&(this._.gen.process(this.cells[1],this.cells[2]),c.outputSignalAR(this))),this};var e,f=function(){function b(b){var c=Math.ceil(Math.log(1.5*a.samplerate)*Math.LOG2E);this.cell=new a.fn.SignalArray(a.cellsize),this.time=125,this.feedback=.25,this.buffer=new a.fn.SignalArray(1<<c),this.mask=(1<<c)-1,this.wet=.45,this.readIndex=0,this.writeIndex=this.time/1e3*a.samplerate|0,b&&this.setParams(b)}var c=b.prototype;return c.setParams=function(b){return b.time&&(this.time=b.time,this.writeIndex=this.readIndex+(.001*this.time*a.samplerate|0)),b.feedback&&(this.feedback=b.feedback),b.wet&&(this.wet=b.wet),this},c.process=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=this.cell,d=this.buffer,e=this.writeIndex,f=this.readIndex,g=this.feedback,i=this.wet,j=1-this.wet,k=0,l=c.length;l>k;++k)h=d[f],d[e]=a[k]-h*g,c[k]=a[k]*j+h*i,e+=1,f+=1;if(b)for(k=0;l>k;++k)a[k]=c[k];return this.writeIndex=e&this.mask,this.readIndex=f&this.mask,c},b}();"browser"===a.envtype?(window.pico||(window.pico={}),e=window.pico):"node"===a.envtype&&(global.pico||(global.pico={}),e=global.pico),e&&(Object.defineProperties(e,{env:{get:function(){return a.env}},samplerate:{get:function(){return a.samplerate}},channels:{get:function(){return a.channels}},cellsize:{get:function(){return a.cellsize}},isPlaying:{get:function(){return a.isPlaying}},DelayNode:{value:f}}),c.register("pico.js",b))}(timbre);